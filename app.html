<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panel Testów</title>
<link rel="stylesheet" href="style.css">
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
<div class="container">

    <!-- Panel użytkownika -->
    <div class="header-container">
        <img id="userAvatar" class="header-logo" src="img/default-avatar.png" alt="Avatar">
        <span id="userEmail" class="header-title"></span>
        <button id="editProfileBtn">Zmień hasło</button>
        <button id="logoutBtnPanel">Wyloguj</button>
    </div>

    <!-- Formularz testu -->
    <form id="testForm">
        <input type="hidden" id="editIndex">
        <input type="text" id="testName" placeholder="Tytuł testu" required>
        <textarea id="testDesc" placeholder="Opis testu"></textarea>
        <textarea id="testSteps" placeholder="Kroki"></textarea>
        <textarea id="expectedResult" placeholder="Oczekiwany rezultat"></textarea>
        <select id="testStatus">
            <option value="">Brak</option>
            <option value="Pass">Pass</option>
            <option value="Fail">Fail</option>
        </select>
        <textarea id="testNotes" placeholder="Uwagi"></textarea>
        <select id="testPriority">
            <option value="">Brak</option>
            <option value="Low">Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
        </select>
        <button type="submit">Zapisz test</button>
        <button type="button" onclick="deleteAllTestCases()">Usuń wszystkie testy</button>
    </form>

    <!-- Filtry -->
    <div>
        <select id="statusFilter">
            <option value="all">Wszystkie statusy</option>
            <option value="Pass">Pass</option>
            <option value="Fail">Fail</option>
            <option value="unknown">Brak</option>
        </select>
        <select id="priorityFilter">
            <option value="all">Wszystkie priorytety</option>
            <option value="Low">Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
        </select>
        <input type="text" id="searchQuery" placeholder="Szukaj...">
    </div>

    <!-- Tabela -->
    <table id="testTable">
        <thead>
            <tr>
                <th>Tytuł</th>
                <th>Opis</th>
                <th>Kroki</th>
                <th>Oczekiwany</th>
                <th>Status</th>
                <th>Uwagi</th>
                <th>Priorytet</th>
                <th>Akcje</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <!-- Import / Export -->
    <div>
        <input type="file" id="csvFile">
        <button id="importCSVBtn">Import CSV</button>
        <button id="exportCSVBtn">Eksport CSV</button>
        <button id="exportPDFBtn">Eksport PDF</button>
    </div>

    <!-- Statystyki -->
    <div>
        <div id="statsSummary"></div>
        <div class="progress">
            <div id="barPass" class="pass-badge" style="width:0%"></div>
            <div id="barFail" class="fail-badge" style="width:0%"></div>
            <div id="barUnknown" class="unknown-badge" style="width:0%"></div>
        </div>
        <canvas id="statusChart" width="400" height="200"></canvas>
    </div>

</div>

<!-- Root dla toastów -->
<div id="toastRoot"></div>

<script src="app.js"></script>
</body>
</html>
